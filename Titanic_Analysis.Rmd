---
title: "Titanic_Analysis"
author: "Aden Emre UNAL"
date: "2025-08-02"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(readr)
library(tidyr)
```

## Load the Dataset
```{r load-data}
titanic <- read_csv("train.csv")
head(titanic, 10)
```

## Explore the Data
```{r explore}
str(titanic)
summary(titanic)
colSums(is.na(titanic))
```

## Handle Missing Data
```{r clean}
titanic <- titanic %>%
  mutate(Age = ifelse(is.na(Age), mean(Age, na.rm = TRUE), Age))
titanic$Embarked[is.na(titanic$Embarked)] <- "S"
```

## Basic Analysis
```{r analysis}
SurvivalBySex <- titanic %>%
  group_by(Sex) %>%
  summarise(SurvivalRate = mean(Survived))

SurvivalByPclass <- titanic %>%
  group_by(Pclass) %>%
  summarise(SurvivalRate = mean(Survived))
```

## Set Age Groups
```{r age-groups}
titanic <- titanic %>%
  mutate(AgeGroup = case_when(
    Age < 12 ~ "Child",
    Age < 18 ~ "Teen",
    Age < 40 ~ "Adult",
    Age < 60 ~ "Middle",
    TRUE ~ "Senior"
  ))
head(titanic$AgeGroup, 20)
```
## Set Proportions to Percentages
```
SurvivalBySex$SurvivalRate <- SurvivalBySex$SurvivalRate * 100
SurvivalByPclass$SurvivalRate <- SurvivalByPclass$SurvivalRate * 100

```
## Visualization
```
ggplot(SurvivalBySex, aes(x = Sex, y = SurvivalRate)) +
  geom_col(fill = "steelblue", color = "black", width = 0.5) +
  labs(title = "Passenger Proportion by Gender", y = "Percentage")

ggplot(SurvivalByPclass, aes(x = Pclass, y = SurvivalRate)) +
  geom_col(fill = "steelblue", color = "black", width = 0.5) +
  labs(title = "Passenger Proportion by Class", x = "Passenger Class", y = "Percentage")

ggplot(titanic, aes(x = Age, fill = factor(Survived))) + 
  geom_histogram(bins=30, alpha=0.6, position="identity") +
  labs(title = "Age distribution by Survival", fill = "Survived")
  
```

## Findings
```{r results, echo=FALSE}
cat("
###  Key Findings:
- Female passengers had a significantly higher survival rate than males.
- Upper class passengers survived more often than those in lower classes.
- Age played an important role in survival outcomes.
")
```

